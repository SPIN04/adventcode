grattini = []
somma = 0

with open('a.txt', 'r') as file:
    for line in file:
        line = line.replace('Card ', '').replace('\n', '')
        grattini.append(line.split(':')[1].split(" | "))


for i, gratta in enumerate(grattini):
    vincenti = set(int(numero) for numero in gratta[0].split(' ') if numero.isdigit())
    miei = set(int(numero) for numero in gratta[1].split(' ') if numero.isdigit())

    numeri_in_comune = vincenti & miei
    copie = len(numeri_in_comune)
    
    if copie > 0:
        #grattini.extend(copie)
        for x in range(copie):
            grattini.append(str(i+x))

print(len(grattini))
